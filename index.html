<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mess Pass â€” Accepted</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap');

  :root{
    --bg:#f5f6f8;
    --card:#ffffff;
    --accent-dark:#126016;   /* outer green */
    --accent-deep:#0D5F0F;   /* darker stroke */
    --accent-lime:#10ef2d;   /* bright green */
    --muted:#e6e6e6;
    --text:#222;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;padding:0;background:var(--bg);font-family:'Poppins',sans-serif;-webkit-font-smoothing:antialiased}

  /* TOP BAR */
  .top-modal{
    position:fixed;
    top:0;left:0;width:100%;
    background:#3c3c3c;
    padding:10px 0 6px;
    color:#fff;
    text-align:center;
    z-index:100;
    font-size:16px;
    font-weight:600;
    box-shadow:0 2px 6px rgba(0,0,0,0.25);
  }
  .drag-bar{
    width:60px;height:6px;background:#ffffffcc;border-radius:3px;margin:0 auto 6px;
  }

  .page{padding-top:60px;display:flex;justify-content:center;padding-bottom:36px}

  /* CARD */
  .container{
    width:100%;max-width:420px;background:var(--card);border-radius:18px;padding:18px 20px 24px;position:relative;box-shadow:0 12px 30px rgba(0,0,0,0.10);
  }

  /* COUNT CIRCLE: light gray background, dark digits */
  .count-circle{
    position:absolute;right:14px;top:12px;background:var(--muted);min-width:42px;height:36px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:800;color:#555;font-size:16px;padding:0 8px;
  }

  .header{display:flex;gap:14px;align-items:center}
  .photo{width:86px;height:86px;border-radius:50%;object-fit:cover;border:3px solid rgba(0,0,0,0.08)}
  .meal-type{font-size:30px;font-weight:900}
  .user-id{font-weight:800;margin-top:6px}
  .user-name{font-weight:600;margin-top:6px}
  .mess-center{font-weight:600;margin-top:4px;color:var(--text)}

  .program-info{margin:18px 0 14px;color:#4b2c2180;font-weight:600}

  /* date/time with smaller gap */
  .date-time{display:flex;justify-content:space-between;margin-bottom:10px;font-size:16px;font-weight:700}

  .meal-approved{text-align:center;font-size:26px;font-weight:800;color:#30b520;margin-bottom:12px}

  /* OUTER GREEN HORIZONTAL STRIP (long & short height) */
  .accepted-area{
    width:100%;
    background:var(--accent-dark);
    border-radius:16px;
    padding:14px 0;
    height:170px;               /* horizontal strip height (adjust if needed) */
    display:flex;
    justify-content:center;
    align-items:center;
  }

  /* INNER WHITE CARD (with thick light border like reference) */
  .accepted-card{
    width:92%;
    max-width:760px;            /* can be wide on desktop; on small screens will shrink */
    height:110px;               /* shallow horizontal card */
    background:#ffffff;
    border-radius:14px;
    padding:10px 18px;
    display:flex;
    justify-content:center;
    align-items:center;
    border:12px solid rgba(205,232,198,0.9); /* light green-ish outer border */
    box-shadow:0 8px 20px rgba(0,0,0,0.12);
  }

  /* SVG ACCEPTED pill fills inner card horizontally */
  .accepted-graphic{width:100%;height:100%}
  .accepted-graphic svg{width:100%;height:100%;display:block}

  /* responsive small screens */
  @media (max-width:420px){
    .container{padding:14px 14px 20px}
    .accepted-area{height:150px}
    .accepted-card{height:96px;padding:8px}
    .meal-type{font-size:26px}
    .count-circle{top:10px;right:12px}
  }
</style>
</head>
<body>

<!-- Top modal header -->
<div class="top-modal">
  <div class="drag-bar" aria-hidden="true"></div>
  Mess Pass
</div>

<div class="page">
  <div class="container" role="region" aria-label="Mess Pass Card">
    <div class="count-circle" id="countCircle" aria-live="polite">30</div>

    <div class="header">
      <img src="https://i.postimg.cc/3NnwdHd3/cherukusai.jpg" alt="User photo" class="photo" onerror="this.onerror=null;this.src='https://i.imgur.com/0KXQm7T.png'">
      <div>
        <div class="meal-type" id="mealType">Lunch</div>
        <div class="user-id" id="userId">12311129</div>
        <div class="user-name" id="userName">Cheruku Sai Kumar</div>
        <div class="mess-center" id="messCenter">Mess-Centre-02</div>
      </div>
    </div>

    <div class="program-info">P132:B.Tech. (Computer Science and Engineering)(2023)</div>

    <div class="date-time" aria-label="date and time">
      <div id="dateDisplay">--</div>
      <div id="timeDisplay">--</div>
    </div>

    <div class="meal-approved" id="mealApprovedText">Meal Approved</div>

    <!-- ACCEPTED area: wide horizontal green strip with white inner card -->
    <div class="accepted-area" role="img" aria-label="Accepted area">
      <div class="accepted-card" aria-hidden="false">
        <div class="accepted-graphic" aria-hidden="true">
          <!-- EXACT horizontal accepted pill SVG (matches provided reference) -->
          <svg viewBox="0 0 900 220" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Accepted badge">
            <!-- Outer long white rounded pill inside the white card (with dark green stroke) -->
            <rect x="20" y="40" rx="80" ry="80" width="860" height="140" fill="#ffffff" stroke="var(--accent-deep)" stroke-width="12"/>
            <!-- Small bright green circle with dark stroke -->
            <circle cx="200" cy="110" r="45" fill="var(--accent-lime)" stroke="var(--accent-deep)" stroke-width="8"/>
            <!-- White check -->
            <path d="M175 110 l25 25 l40 -45" stroke="#ffffff" stroke-width="12" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
            <!-- ACCEPTED text in bright green -->
            <text x="300" y="125" font-family="Poppins, Arial, sans-serif" font-size="70" font-weight="800" fill="var(--accent-lime)">ACCEPTED</text>
            <!-- subtle inner light border for depth -->
            <rect x="40" y="58" rx="68" ry="68" width="820" height="84" fill="none" stroke="#e6f7ea" stroke-width="8"/>
          </svg>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
  // Elements
  const countCircle = document.getElementById('countCircle');
  const dateDisplay = document.getElementById('dateDisplay');
  const timeDisplay = document.getElementById('timeDisplay');
  const mealApprovedText = document.getElementById('mealApprovedText');

  // Update date/time
  function updateDateTime(){
    const now = new Date();
    const options = { year:'numeric', month:'short', day:'2-digit' };
    dateDisplay.textContent = now.toLocaleDateString('en-US', options).replace(',','');
    let hrs = now.getHours();
    const mins = String(now.getMinutes()).padStart(2,'0');
    const ampm = hrs >= 12 ? 'PM' : 'AM';
    hrs = hrs % 12 || 12;
    timeDisplay.textContent = `${hrs}:${mins} ${ampm}`;
  }
  updateDateTime();
  setInterval(updateDateTime, 1000);

  // Countdown (30s)
  let countdown = 30;
  let interval = null;
  function renderCount(){ countCircle.textContent = String(countdown); }
  function startCountdown(){
    if(interval) clearInterval(interval);
    countdown = 30;
    renderCount();
    interval = setInterval(()=>{
      countdown--;
      if(countdown <= 0){
        clearInterval(interval);
        countCircle.textContent = '0';
        // visually mark expired
        countCircle.style.color = '#c62828';
        mealApprovedText.textContent = 'Expired';
        mealApprovedText.style.color = '#b00020';
      } else {
        renderCount();
      }
    }, 1000);
  }
  startCountdown();

  // Optional: press 'r' to reset during testing
  window.addEventListener('keydown', e => { if(e.key === 'r') startCountdown(); });
</script>
</body>
</html>
